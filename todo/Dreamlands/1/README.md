#### 第一宫

本目录存储与奥比岛手游梦幻国度第一宫相关的内容。

##### 密码宝箱

系统随机生成密码时，会从八种符号（四种红色符号和四种蓝色符号）中随机选取四个可重复的符号填入密码中，共能形成 $8^4 = 4096$ 种不同的密码；该密码的随机生成可能发生在宝箱打开时，也可能发生在一关游戏开始时。

玩家在打开一个密码宝箱后会被系统要求破解一个长度为 4 的密码，在玩家解密成功、解密失败或放弃解密前，该密码不会发生改变，即密码所包含的符号、某种符号的数量以及符号所在的位置等都不会发生改变。

四种红色符号从左往右依次为红五角星、红色爱心、红色脚印和红八角花，四种蓝色符号从左往右依次为蓝色拼图、蓝色树叶、蓝色新月和蓝色音符。

对于一个密码宝箱，玩家共有五次机会尝试输入密码，任意一次输入正确密码后解密停止，宝箱打开，玩家获得相应的奖励；若玩家五次尝试失败或点击界面空白处放弃解密，玩家将无法获得奖励，宝箱消失。

当玩家提交一次密码时，系统会根据以下机制在玩家输入的密码（以下简称“提交密码”）的每一个位置的左上角标记绿勾、蓝色的旋转符号和红叉，分别表示正确、存在该符号但位置不对和错误且不（再）存在该符号。

1) 首先，系统从前往后遍历所有位置，比对提交密码和正确密码在同一位置中的符号是否一致，若一致则在提交密码的该位置的左上角标记一个绿勾，否则将该符号放入初始为空的备用符号列表；
2) 随后，系统从前往后遍历未被标记绿勾的位置，系统判断备用符号列表中是否含有提交密码的该位置上的符号，如有，则在提交密码的该位置的左上角标记一个蓝色的旋转符号，并立即从备用符号列表中移除首个该符号；
3) 最后，系统从前往后在没有标记的位置的左上角标记一个红叉，并将结果反馈至屏幕上。

从计算机的角度而言，我们有：

1) 初始化备用符号列表 $r \gets []$ 和一个用于输出的长度为 4 且元素均为红叉的列表 $y$；
2) 让 $i$ 以步长为 $1$ 从 $0$（假设此处系列数据首位元素的索引为 $0$）遍历到 $3$，如果 $p[i]$ 和 $s[i]$ 相等，则将 $y[i]$ 设置为绿勾，否则将 $p[i]$ 加入 $r$；
3) 让 $i$ 以步长为 $1$ 从 $0$ 遍历到 $3$，如果 $y[i]$ 不为绿勾且 $s[i]$ 位于 $r$ 中，则将 $y[i]$ 设置为蓝色的旋转符号，并从 $r$ 中移除首个 $s[i]$；
4) （以元组形式）返回 $y$。

举个例子，假设 $p \gets (1, 1, 2, 2)$ 为正确密码，此时玩家提交了密码 $s \gets (2, 2, 3, 2)$，则会返回蓝色的旋转符号、红叉、红叉和绿勾。

使用 $1$、$0$ 和 $-1$ 分别代表绿勾、蓝色的旋转符号和红叉，一个可能的变量变化过程如下：

1) $r \gets []$，$y \gets [-1, -1, -1, -1]$；
2) $r \gets [1]$，$r \gets [1, 1]$，$r \gets [1, 1, 2]$，$y[3] \gets 1$；
3) $y[0] \gets 0$，$r \gets [1, 1]$；
4) （以元组形式）返回 $y$。

我们在 [./src/passwordSolver](./src/passwordSolver) 和 [./src/passwordSolver.py](./src/passwordSolver.py) 中分别提供了一个可能的 C++ 实现和一个可能的 Python 实现，其中含有自动解密的代码和一些命令行。
